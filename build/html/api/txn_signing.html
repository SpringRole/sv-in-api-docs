

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Sign Transactions &mdash; SpringVerify API Docs 2 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/theme_overrides.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> SpringVerify API Docs
          

          
          </a>

          
            
            
              <div class="version">
                2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../gettingStarted/introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../gettingStarted/authentication.html">SpringVerify REST API’s</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">SpringVerify API Docs</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>Sign Transactions</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/api/txn_signing.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="sign-transactions">
<h1>Sign Transactions<a class="headerlink" href="#sign-transactions" title="Permalink to this headline">¶</a></h1>
<p>Once, Bitguard hardware is initialized then you can get public address of a coin from bitGuard. Follow the following steps to start transaction signing process.</p>
<div class="section" id="initialize-transaction-signing">
<h2>Initialize Transaction Signing<a class="headerlink" href="#initialize-transaction-signing" title="Permalink to this headline">¶</a></h2>
<p>This command will be used to initiate a transaction signing procedure.</p>
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="4%" />
<col width="21%" />
<col width="20%" />
<col width="55%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Command</th>
<th class="head">Procedure</th>
<th class="head">Device Side Process</th>
<th class="head">Response</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><strong>0x03</strong></td>
<td>Send 0x03 to initialize transaction signing process</td>
<td>Not required</td>
<td><ul class="first last simple">
<li>type    : “txn_sig”</li>
<li>status  : true</li>
<li>req     : “ticker”</li>
</ul>
</td>
</tr>
</tbody>
</table>
<blockquote>
<div><dl class="docutils">
<dt><strong>Response JSON Object:</strong></dt>
<dd><blockquote class="first">
<div><ul class="simple">
<li><strong>type(string)</strong> : Type of procedure.</li>
<li><strong>status(boolean)</strong> : Gives the success or failure status.</li>
<li><strong>req(string)</strong>   : Gives type of request data in this case it is “ticker” of the coin.</li>
</ul>
</div></blockquote>
<p><strong>Example response</strong>:</p>
<blockquote class="last">
<div><div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nx">type</span>  <span class="o">:</span> <span class="s2">&quot;txn_sig&quot;</span><span class="p">,</span>
  <span class="nx">status</span> <span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nx">req</span>    <span class="o">:</span> <span class="s2">&quot;ticker&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div></blockquote>
</dd>
</dl>
</div></blockquote>
</div></blockquote>
</div>
<div class="section" id="coin-selection">
<h2>Coin Selection<a class="headerlink" href="#coin-selection" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="4%" />
<col width="21%" />
<col width="20%" />
<col width="55%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Command</th>
<th class="head">Procedure</th>
<th class="head">Device Side Process</th>
<th class="head">Response</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><strong>&lt;BTC&gt;</strong></td>
<td>Send ticker to get the public address of that coin.</td>
<td>Not required</td>
<td><ul class="first last simple">
<li>coin    : “BTC”</li>
<li>status  : true</li>
<li>req     : “count”</li>
<li>type    : “txn_sig”</li>
</ul>
</td>
</tr>
</tbody>
</table>
<blockquote>
<div><dl class="docutils">
<dt><strong>Response JSON Object:</strong></dt>
<dd><blockquote class="first">
<div><ul class="simple">
<li><strong>type(string)</strong> : Type of procedure.</li>
<li><strong>status(boolean)</strong> : Gives the success or failure status.</li>
<li><strong>coin(string)</strong>   : Gives the ticker of the coin being queried.</li>
<li><strong>req(string)</strong> : Request for the count of the outputs of the transaction to be signed.</li>
</ul>
</div></blockquote>
<p><strong>Example response</strong>:</p>
<blockquote class="last">
<div><div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nx">coin</span>  <span class="o">:</span> <span class="s2">&quot;BTC&quot;</span><span class="p">,</span>
  <span class="nx">req</span> <span class="o">:</span> <span class="s2">&quot;count&quot;</span><span class="p">,</span>
  <span class="nx">status</span>  <span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nx">type</span>    <span class="o">:</span> <span class="s2">&quot;pub_add&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div></blockquote>
</dd>
</dl>
</div></blockquote>
</div></blockquote>
</div>
<div class="section" id="updating-no-of-inputs">
<h2>Updating No of Inputs<a class="headerlink" href="#updating-no-of-inputs" title="Permalink to this headline">¶</a></h2>
<p>The fundamental building block of a bitcoin transaction is a transaction output. Transaction outputs are indivisible chunks of bitcoin currency, recorded on the blockchain, and recognized as valid by the entire network. Bitcoin full nodes track all available and spendable outputs, known as unspent transaction outputs, or UTXO. The collection of all UTXO is known as the UTXO set and currently numbers in the millions of UTXO. The UTXO set grows as new UTXO is created and shrinks when UTXO is consumed. Every transaction represents a change (state transition) in the UTXO set. For further study please refer <a class="reference external" href="https://github.com/bitcoinbook/bitcoinbook/blob/develop/ch06.asciidoc">here</a>.</p>
<p>Transaction inputs identify which UTXO will be consumed and provide proof of ownership through an unlocking script.To build a transaction, a wallet selects from the UTXO it controls, UTXO with enough value to make the requested payment. Sometimes one UTXO is enough, other times more than one is needed. For each UTXO that will be consumed to make this payment, the wallet creates one input pointing to the UTXO and unlocks it with an unlocking script.</p>
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="4%" />
<col width="21%" />
<col width="20%" />
<col width="55%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Command</th>
<th class="head">Procedure</th>
<th class="head">Device Side Process</th>
<th class="head">Response</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><strong>&lt;100&gt;</strong></td>
<td>Send number of inputs.</td>
<td>Press B1 on BitGuard</td>
<td><ul class="first last simple">
<li>status  : true</li>
<li>count     : 100</li>
<li>type    : “txn_sig”</li>
<li>req    : “txn_hash”</li>
<li>coin    : “BTC”</li>
</ul>
</td>
</tr>
</tbody>
</table>
<blockquote>
<div><dl class="docutils">
<dt><strong>Response JSON Object:</strong></dt>
<dd><blockquote class="first">
<div><ul class="simple">
<li><strong>type(string)</strong> : Type of procedure.</li>
<li><strong>status(boolean)</strong> : Gives the success or failure status.</li>
<li><strong>coin(string)</strong>   : Gives the ticker of the coin being queried.</li>
<li><strong>count(string)</strong> : Gives updated count of outputs.</li>
<li><strong>req(string)</strong> : Requests Transaction hash (raw transaction should be hashed using sha256).</li>
</ul>
</div></blockquote>
<p><strong>Example response</strong>:</p>
<blockquote class="last">
<div><div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nx">coin</span>  <span class="o">:</span> <span class="s2">&quot;BTC&quot;</span><span class="p">,</span>
  <span class="nx">count</span> <span class="o">:</span> <span class="mi">100</span><span class="p">,</span>
  <span class="nx">status</span>  <span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nx">type</span>    <span class="o">:</span> <span class="s2">&quot;txn_sig&quot;</span><span class="p">,</span>
  <span class="nx">req</span>  <span class="o">:</span>  <span class="s2">&quot;txn_hash&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div></blockquote>
</dd>
</dl>
</div></blockquote>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">There is no threshold for <strong>count</strong> in this API.</p>
</div>
</div></blockquote>
</div>
<div class="section" id="signing-raw-transaction-hash">
<h2>Signing Raw Transaction Hash<a class="headerlink" href="#signing-raw-transaction-hash" title="Permalink to this headline">¶</a></h2>
<p>This command is used to sign the SHA256 of the transaction that is build for every INPUT one by one. Please follow the commands for further clarification.</p>
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="3%" />
<col width="19%" />
<col width="18%" />
<col width="60%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Command</th>
<th class="head">Procedure</th>
<th class="head">Device Side Process</th>
<th class="head">Response</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><strong>&lt;txn&gt;</strong></td>
<td>Replace “txn” with the hash of raw transaction</td>
<td>Not required</td>
<td><ul class="first last simple">
<li>coin    : “BTC”</li>
<li>status  : true</li>
<li>count     : 99</li>
<li>type    : “txn_sig”</li>
<li>req    : “txn_hash”                * sig : string</li>
<li>sig_complete : boolean</li>
</ul>
</td>
</tr>
</tbody>
</table>
<blockquote>
<div><dl class="docutils">
<dt><strong>Response JSON Object:</strong></dt>
<dd><blockquote class="first">
<div><ul class="simple">
<li><strong>type(string)</strong> : Type of procedure.</li>
<li><strong>status(boolean)</strong> : Gives the success or failure status.</li>
<li><strong>coin(string)</strong>   : Gives the ticker of the coin being queried.</li>
<li><strong>count(string)</strong> : Gives updated count of outputs. Count will be decremented every time transaction is signed for one output.</li>
<li><strong>req(string)</strong> : Requests Transaction hash (raw transaction should be hashed using sha256).</li>
<li><strong>sig(string)</strong> : This will contain the signed transaction in DER format.</li>
<li><strong>sig_complete(boolean)</strong> : This field becomes <strong>true</strong> once all the INPUTS are signed and count becomes zero.</li>
</ul>
</div></blockquote>
<p><strong>Example response</strong>:</p>
<blockquote class="last">
<div><div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nx">coin</span>  <span class="o">:</span> <span class="s2">&quot;BTC&quot;</span><span class="p">,</span>
  <span class="nx">count</span> <span class="o">:</span> <span class="mi">100</span><span class="p">,</span>
  <span class="nx">status</span>  <span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nx">type</span>    <span class="o">:</span> <span class="s2">&quot;txn_sig&quot;</span><span class="p">,</span>
  <span class="nx">req</span>  <span class="o">:</span>  <span class="s2">&quot;txn_hash&quot;</span><span class="p">,</span>
  <span class="nx">sig</span>  <span class="o">:</span>  <span class="s2">&quot;263c018582731ff54dc72c7d67e858c002ae298835501d80200f05753de0edf0&quot;</span><span class="p">,</span>
  <span class="nx">sig_complete</span> <span class="o">:</span> <span class="kc">false</span>
<span class="p">}</span>
</pre></div>
</div>
</div></blockquote>
</dd>
</dl>
</div></blockquote>
</div></blockquote>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, SpringWorks

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>